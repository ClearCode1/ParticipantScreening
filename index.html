<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pre-checklist Screening — Sacred Heart Academy of Novaliches</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      /* green accent to match your logo */
      --accent:#1f7a3a;
      --muted:#55606a;
      --accent-2: rgba(31,122,58,0.08);
    }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial; background:var(--bg); margin:0; padding:28px; color:#0b1220; -webkit-font-smoothing:antialiased}
    .container{max-width:820px;margin:0 auto;}
    .card{background:var(--card);border-radius:14px;padding:20px 22px 26px;box-shadow:0 8px 28px rgba(12,12,18,0.06)}
    header{display:flex;gap:16px;align-items:center;margin-bottom:6px}
    .logo{width:72px;height:72px;border-radius:10px;flex:0 0 72px;display:flex;align-items:center;justify-content:center;overflow:hidden;background:var(--accent-2)}
    .logo img{max-width:90%;max-height:90%}
    h1{margin:0;font-size:20px;color:var(--accent)}
    .meta{font-weight:600;font-size:12px;color:var(--muted);margin-top:4px}
    .lead{margin:12px 0 14px;color:var(--muted);line-height:1.4}
    .section-title{margin:18px 0 8px;font-size:14px;color:#0b1220}
    .criteria{background:#fbfff9;border:1px solid rgba(31,122,58,0.06);padding:12px;border-radius:8px;color:#0f2b12}
    .question{margin:12px 0;padding:12px;border-radius:8px;border:1px solid #eef2f2;background:#fcfeff;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .q-text{font-weight:600;max-width:72%}
    .radios{display:flex;gap:12px;align-items:center}
    label{cursor:pointer;display:flex;gap:6px;align-items:center}
    input[type="radio"]{width:16px;height:16px}
    .hint{font-size:13px;color:var(--muted);margin-top:6px}
    .actions{margin-top:18px;display:flex;gap:10px;align-items:center}
    button.primary{background:var(--accent);color:white;border:0;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(31,122,58,0.12)}
    button.ghost{background:#eef6ef;border:1px solid rgba(31,122,58,0.12);padding:10px 12px;border-radius:10px;cursor:pointer}
    .msg{margin-top:14px;padding:12px;border-radius:8px;display:none}
    .msg.error{background:#fff2f2;color:#981b1b;border:1px solid #f3c2c2}
    .msg.success{background:#ecfdf5;color:#065f46;border:1px solid #bbf7d0}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    @media (max-width:560px){
      header{flex-direction:row;align-items:center}
      .q-text{max-width:100%}
      .question{flex-direction:column;align-items:flex-start}
      .radios{margin-top:10px}
      .logo{width:56px;height:56px;flex:0 0 56px}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card" role="main" aria-labelledby="title">
      <header>
        <div class="logo" aria-hidden="true">
          <img src="https://i0.wp.com/shan.edu.ph/wp-content/uploads/2022/04/sacred-heart-academy-green-logo.png?fit=1024%2C1012&ssl=1" alt="Sacred Heart Academy logo">
        </div>
        <div>
          <h1 id="title">Pre-checklist — Eligibility Screening</h1>
          <div class="meta">Research: <strong>The Effect of Spider Plant Interaction Activities on the Academic Stress Levels of Senior High School Students using the Educational Stress Scale for Adolescents (ESSA)</strong></div>
        </div>
      </header>

      <p class="lead">
        This form is used to screen potential participants for the study above. Only students who meet <strong>all</strong> criteria will proceed to the pre-test phase and the main Google Form. Please answer truthfully — selected answers are used to determine eligibility only.
      </p>

      <div class="section-title">Screening criteria (you must meet all)</div>
      <div class="criteria" aria-hidden="false">
        <ol style="margin:0 0 0 18px;padding:8px 6px;color:#0b3f1b">
          <li>The student is enrolled in Grade 11 or Grade 12 at Sacred Heart Academy of Novaliches.</li>
          <li>The student voluntarily agrees to participate for two weeks.</li>
          <li>The student has no known plant-related allergies.</li>
          <li>The student is physically capable of performing light plant care activities within the two-week period (watering, leaf-cleaning, observing).</li>
        </ol>
      </div>

      <form id="screenForm" novalidate>
        <!-- Q1 -->
        <div class="question" data-qid="q1">
          <div class="q-text">1) Are you currently enrolled in Grade 11 or Grade 12 at Sacred Heart Academy of Novaliches?</div>
          <div class="radios" aria-label="Q1">
            <label><input type="radio" name="q1" value="yes" required> Yes</label>
            <label><input type="radio" name="q1" value="no"> No</label>
          </div>
        </div>

        <!-- Q2 -->
        <div class="question" data-qid="q2">
          <div class="q-text">2) Do you voluntarily agree to participate for two weeks if selected?</div>
          <div class="radios" aria-label="Q2">
            <label><input type="radio" name="q2" value="yes" required> Yes</label>
            <label><input type="radio" name="q2" value="no"> No</label>
          </div>
        </div>

        <!-- Q3 -->
        <div class="question" data-qid="q3">
          <div class="q-text">3) Do you have any known plant-related allergies? (Selecting "Yes" means you <strong>do</strong> have allergies.)</div>
          <div class="radios" aria-label="Q3">
            <label><input type="radio" name="q3" value="no" required> No — I have no known plant-related allergies</label>
            <label><input type="radio" name="q3" value="yes"> Yes — I have plant-related allergies</label>
          </div>
        </div>

        <!-- Q4 -->
        <div class="question" data-qid="q4">
          <div class="q-text">4) Are you physically able to perform light plant-care activities within the two-week period (watering, leaf cleaning, and brief observation)?</div>
          <div class="radios" aria-label="Q4">
            <label><input type="radio" name="q4" value="yes" required> Yes</label>
            <label><input type="radio" name="q4" value="no"> No</label>
          </div>
        </div>

        <div class="hint">Note: Only participants who answer exactly as required (see criteria above) will proceed to the survey. All answers are treated confidentially.</div>

        <div class="actions">
          <button type="submit" class="primary">Check Eligibility & Proceed</button>
          <button type="button" id="clearBtn" class="ghost">Clear answers</button>
        </div>

        <div id="msg" class="msg" role="status" aria-live="polite"></div>
      </form>

      <footer>
        If a respondent is not eligible they will receive a message and will not be redirected to the Google Form. Contact the researchers for questions.
      </footer>
    </div>
  </div>

  <script>
    (function(){
      // Provided Google Form link (your short link works; if you want answers prefilled in the Form see comments below)
      const FORM_URL = "https://forms.gle/XcnQm5ZLptSDafjB9";

      const form = document.getElementById('screenForm');
      const msg = document.getElementById('msg');
      const clearBtn = document.getElementById('clearBtn');

      function getQuestionIds(){
        return Array.from(document.querySelectorAll('.question')).map(el => el.getAttribute('data-qid'));
      }

      function allAnswered(){
        const qids = getQuestionIds();
        for (const id of qids){
          const checked = document.querySelector('input[name="'+id+'"]:checked');
          if (!checked) return {ok:false, reason: 'Please answer all the criteria.'};
        }
        return {ok:true};
      }

      function meetsEligibility(){
        // Eligibility logic:
        // q1 must be 'yes'
        // q2 must be 'yes'
        // q3 must be 'no' (no allergies)
        // q4 must be 'yes'
        const q1 = document.querySelector('input[name="q1"]:checked')?.value;
        const q2 = document.querySelector('input[name="q2"]:checked')?.value;
        const q3 = document.querySelector('input[name="q3"]:checked')?.value;
        const q4 = document.querySelector('input[name="q4"]:checked')?.value;
        return q1 === 'yes' && q2 === 'yes' && q3 === 'no' && q4 === 'yes';
      }

      function showMessage(text, type){
        msg.style.display = 'block';
        msg.className = 'msg ' + (type === 'error' ? 'error' : 'success');
        msg.textContent = text;
      }

      // ------------------------------------------------------------
      // OPTIONAL: Prefill support for Google Forms (recommended)
      // If you want the screening answers saved in the same Google Form automatically,
      // you can prefill fields and open the prefilled form. To do that:
      //
      // 1) Open your Google Form → click the three dots (⋮) → "Get pre-filled link".
      // 2) Fill sample answers and click "Get link". Copy the long URL (it looks like:
      //    https://docs.google.com/forms/d/e/<FORM_ID>/viewform?entry.12345=Yes&entry.67890=No ...)
      // 3) From that prefilled URL extract:
      //    - FORM_PREFILL_BASE: the part before the "?" (e.g. https://docs.google.com/forms/d/e/<FORM_ID>/viewform)
      //    - ENTRY_MAP: a mapping from your local q ids (q1,q2,q3,q4) to Google Form entry ids (entry.12345)
      //
      // Example (UNCOMMENT and replace values to enable):
      //
      // const FORM_PREFILL_BASE = "https://docs.google.com/forms/d/e/YOUR_FORM_ID/viewform";
      // const ENTRY_MAP = { q1: "entry.1234567890", q2: "entry.2345678901", q3: "entry.3456789012", q4: "entry.4567890123" };
      //
      // If ENTRY_MAP is provided, the script will build a prefilled URL with the selected answers and open it.
      // ------------------------------------------------------------

      // If you don't set FORM_PREFILL_BASE and ENTRY_MAP, the script will simply open FORM_URL in a new tab.

      form.addEventListener('submit', function(e){
        e.preventDefault();
        msg.style.display = 'none';

        const answered = allAnswered();
        if (!answered.ok){
          showMessage(answered.reason, 'error');
          return;
        }

        // Save a small local audit copy in localStorage (optional): helpful if you want a local record
        // NOTE: This stores data on the user's browser only. Researchers won't see it unless the user shares.
        try {
          const stored = JSON.parse(localStorage.getItem('screening_records') || '[]');
          const record = {
            timestamp: new Date().toISOString(),
            q1: document.querySelector('input[name="q1"]:checked').value,
            q2: document.querySelector('input[name="q2"]:checked').value,
            q3: document.querySelector('input[name="q3"]:checked').value,
            q4: document.querySelector('input[name="q4"]:checked').value,
            page: location.href
          };
          stored.push(record);
          localStorage.setItem('screening_records', JSON.stringify(stored.slice(-200))); // keep last 200
        } catch (err) {
          // ignore storage errors
        }

        if (meetsEligibility()){
          showMessage('All criteria met. Opening the Google Form (please submit the pre-filled form to record your survey response).', 'success');

          // Try to open a prefilled Form if ENTRY_MAP is configured above — otherwise open the provided FORM_URL.
          try {
            if (typeof FORM_PREFILL_BASE !== 'undefined' && typeof ENTRY_MAP !== 'undefined') {
              // build prefill url
              const qids = getQuestionIds();
              const params = [];
              for (const id of qids){
                const checked = document.querySelector('input[name="'+id+'"]:checked');
                const entryKey = ENTRY_MAP[id];
                if (!entryKey) continue;
                // NOTE: Google Forms expects human-readable values (Yes/No). We map 'yes'/'no' -> 'Yes'/'No'
                const val = (checked.value === 'yes' || checked.value === 'no') ? (checked.value === 'yes' ? 'Yes' : 'No') : checked.value;
                params.push(encodeURIComponent(entryKey) + '=' + encodeURIComponent(val));
              }
              const prefillUrl = FORM_PREFILL_BASE + '?' + params.join('&');
              window.open(prefillUrl, '_blank', 'noopener');
              return;
            }
          } catch (err) {
            console.warn('Prefill attempt failed', err);
          }

          // fallback: open the generic link you provided
          setTimeout(function(){
            window.open(FORM_URL, '_blank', 'noopener');
          }, 600);

        } else {
          showMessage('You are not eligible to proceed based on your answers. Thank you for your time.', 'error');
        }
      });

      clearBtn.addEventListener('click', function(){
        document.querySelectorAll('input[type=radio]').forEach(r => r.checked = false);
        msg.style.display = 'none';
      });

      // Accessibility: space/enter selects radio; focus handling is native.
    })();
  </script>
</body>
</html>



